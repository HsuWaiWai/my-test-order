<!doctype html>
<html lang="my">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Menu & Order</title>

  <style>
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:#f6f7fb;
      color:#111;
    }
    .wrap{ max-width:900px; margin:28px auto; padding:0 16px; }

    .tabs{
      display:flex;
      background:#fff;
      border:1px solid #e7e7ee;
      border-radius:12px;
      overflow:hidden;
      margin-bottom:14px;
    }
    .tab{
      flex:1;
      padding:12px;
      text-align:center;
      cursor:pointer;
      font-weight:600;
      color:#555;
      border-right:1px solid #eee;
      user-select:none;
    }
    .tab:last-child{ border-right:none; }
    .tab.active{ background:#0b57d0; color:#fff; }

    .card{
      background:#fff;
      border:1px solid #e7e7ee;
      border-radius:14px;
      padding:18px;
      box-shadow:0 1px 0 rgba(0,0,0,0.03);
    }
    h2{ margin:0 0 10px; font-size:20px; }

    table{ width:100%; border-collapse:collapse; }
    th,td{ padding:12px 10px; border-bottom:1px solid #f0f0f6; }
    th{ text-align:left; font-size:13px; color:#444; background:#fafafe; }
    .price{ text-align:right; font-weight:700; white-space:nowrap; }
    .muted{ color:#666; font-size:12px; }

    label{ display:block; font-size:12px; color:#444; margin:12px 0 6px; }
    select,input{
      width:100%;
      padding:12px;
      border-radius:10px;
      border:1px solid #d9d9e6;
      font-size:16px;
      background:#fff;
      outline:none;
    }

    .row{ display:grid; grid-template-columns:1fr 160px; gap:12px; }
    @media(max-width:520px){ .row{ grid-template-columns:1fr; } }

    .summary{
      margin-top:16px;
      padding:14px;
      border-radius:12px;
      border:1px solid #ececf5;
      background:#fafafe;
    }
    .line{ display:flex; justify-content:space-between; margin-bottom:6px; gap:12px; }
    .big{ font-size:22px; font-weight:800; white-space:nowrap; }

    .btnRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    button{
      padding:10px 14px;
      border-radius:10px;
      border:1px solid #d9d9e6;
      background:#fff;
      font-size:14px;
      cursor:pointer;
    }
    button.primary{ border-color:#0b57d0; background:#0b57d0; color:#fff; }

    .hidden{ display:none; }
  </style>
</head>

<body>
<div class="wrap">

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" onclick="showTab('menu')">üìã Menu</div>
    <div class="tab" onclick="showTab('order')">üßÆ Order Calculator</div>
  </div>

  <!-- MENU TAB -->
  <div id="menu" class="card">
    <h2>Item Price List (SGD)</h2>
    <div class="muted">Flavour variants included: ·Ä°·ÄÅ·Äª·Ä≠·ÄØ / ·Ä°·ÄÖ·Äï·Ä∫ / ·Äô·Ä¨·Äú·Ä¨</div>

    <table aria-label="Item price list">
      <thead>
        <tr>
          <th>Item</th>
          <th>Flavour</th>
          <th class="price">Price</th>
        </tr>
      </thead>
      <tbody id="menuBody"></tbody>
    </table>
  </div>

  <!-- ORDER TAB -->
  <div id="order" class="card hidden">
    <h2>Order Calculator</h2>

    <div class="row">
      <div>
        <label for="item">Item (with flavour)</label>
        <select id="item"></select>
      </div>
      <div>
        <label for="qty">Quantity</label>
        <input id="qty" type="number" min="1" value="1"/>
      </div>
    </div>

    <div class="summary" aria-live="polite">
      <div class="line"><span class="muted">Unit Price</span><span id="unitPrice" class="muted">SGD 0.00</span></div>
      <div class="line"><span class="muted">Quantity</span><span id="qtyOut" class="muted">1</span></div>
      <div class="line"><strong>Total</strong><strong class="big" id="total">SGD 0.00</strong></div>
    </div>

    <div class="btnRow">
      <button class="primary" type="button" onclick="addItem()">Add to Order</button>
      <button type="button" onclick="resetOrder()">Reset</button>
    </div>

    <div id="orderList" style="margin-top:12px;"></div>
  </div>

</div>

<script>
  // Full item list (including flavour variants)
  const ITEMS = [
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äû·ÄØ·ÄÅ", flavour: "·Ä°·ÄÅ·Äª·Ä≠·ÄØ", price: 9.0 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äû·ÄØ·ÄÅ", flavour: "·Ä°·ÄÖ·Äï·Ä∫", price: 9.0 },

    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äï·Äº·Ä¨·Ä∏·ÄÄ·Äº·ÄΩ·Äï·Ä∫·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÅ·Äª·Ä≠·ÄØ", price: 8.0 },
    { name: "·ÄÜ·Äê·Ä∫·Äï·Äº·Ä¨·Ä∏·ÄÄ·Äº·ÄΩ·Äï·Ä∫·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÖ·Äï·Ä∫", price: 8.0 },

    { name: "·ÄÜ·Ä≠·Äê·Ä∫·ÄÖ·Äï·Ä∫·ÄÖ·Äú·Ä∞·Ä∏", flavour: "·Ä°·ÄÅ·Äª·Ä≠·ÄØ", price: 8.0 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·ÄÖ·Äï·Ä∫·ÄÖ·Äú·Ä∞·Ä∏", flavour: "·Ä°·ÄÖ·Äï·Ä∫", price: 8.0 },

    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äô·ÄΩ·Äæ·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÅ·Äª·Ä≠·ÄØ", price: 8.0 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äô·ÄΩ·Äæ·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÖ·Äï·Ä∫", price: 8.0 },

    { name: "·ÄÜ·Ä≠·Äê·Ä∫·ÄÅ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÅ·Äª·Ä≠·ÄØ", price: 7.5 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·ÄÅ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Ä°·ÄÖ·Äï·Ä∫", price: 7.5 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·ÄÅ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "·Äô·Ä¨·Äú·Ä¨", price: 7.5 },

    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äô·Ä¨·Äú·Ä¨·Äô·ÄΩ·Äæ·Ä±·Ä∏", flavour: "-", price: 5.0 },
    { name: "·ÄÜ·Ä≠·Äê·Ä∫·Äû·Ä¨·Ä∏·ÄÅ·Äº·Ä±·Ä¨·ÄÄ·Ä∫·Äñ·ÄØ·Äê·Ä∫", flavour: "-", price: 7.0 },
    { name: "·ÄÇ·Äª·Ä∞·Ä∏·Äï·Ä≤·Äï·ÄØ·Äï·Ä∫·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "-", price: 4.0 },
    { name: "·ÄÑ·Äõ·ÄØ·Äê·Ä∫·Äû·ÄÆ·Ä∏·Äî·Äæ·Äô·Ä∫·Ä∏·ÄÄ·Äï·Ä∫·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "-", price: 4.0 },
    { name: "·Äô·Äæ·Ä≠·ÄØ·Äî·Äæ·Äô·Ä∫·Ä∏·ÄÄ·Äï·Ä∫·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "-", price: 4.0 },
    { name: "·Äô·Äæ·Ä≠·ÄØ·ÄÜ·ÄÆ·ÄÄ·Äº·Ä±·Ä¨·Ä∫", flavour: "-", price: 6.0 },
    { name: "·ÄÄ·Äº·ÄÄ·Ä∫·ÄÖ·Äï·Ä∫·Äô·Ä¨·Äú·Ä¨", flavour: "-", price: 5.0 },
  ];

  const menuBody = document.getElementById("menuBody");
  const itemSelect = document.getElementById("item");
  const qtyInput = document.getElementById("qty");
  const unitPriceEl = document.getElementById("unitPrice");
  const qtyOutEl = document.getElementById("qtyOut");
  const totalEl = document.getElementById("total");
  const orderListEl = document.getElementById("orderList");

  const orderLines = [];
  const fmt = (n) => "SGD " + Number(n).toFixed(2);

  function itemLabel(it){
    const f = (it.flavour && it.flavour !== "-") ? ` (${it.flavour})` : "";
    return `${it.name}${f}`;
  }

  // Render menu table
  function renderMenu(){
    menuBody.innerHTML = "";
    ITEMS.forEach(it => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${it.name}</td>
        <td>${it.flavour || "-"}</td>
        <td class="price">${fmt(it.price)}</td>
      `;
      menuBody.appendChild(tr);
    });
  }

  // Fill dropdown
  function fillDropdown(){
    itemSelect.innerHTML = "";
    ITEMS.forEach((it, i) => {
      const opt = document.createElement("option");
      opt.value = i;
      opt.textContent = `${itemLabel(it)} ‚Äî ${fmt(it.price)}`;
      itemSelect.appendChild(opt);
    });
  }

  function clampQty(v){
    const n = Number(v);
    if (!Number.isFinite(n) || n < 1) return 1;
    return Math.floor(n);
  }

  function recalc(){
    const idx = Number(itemSelect.value || 0);
    const it = ITEMS[idx] || { price: 0 };
    const q = clampQty(qtyInput.value);

    qtyInput.value = q;
    qtyOutEl.textContent = String(q);
    unitPriceEl.textContent = fmt(it.price);
    totalEl.textContent = fmt(it.price * q);
  }

  function addItem(){
    const idx = Number(itemSelect.value || 0);
    const it = ITEMS[idx];
    const q = clampQty(qtyInput.value);
    const total = it.price * q;

    orderLines.push({ label: itemLabel(it), qty: q, total });
    renderOrder();
  }

  function renderOrder(){
    if (orderLines.length === 0) {
      orderListEl.innerHTML = "<em>No items added.</em>";
      return;
    }
    let sum = 0;
    let html = "<strong>Order List:</strong><ul style='margin:8px 0 0; padding-left:18px;'>";
    orderLines.forEach(l => {
      sum += l.total;
      html += `<li>${l.label} √ó ${l.qty} = ${fmt(l.total)}</li>`;
    });
    html += `</ul><div style="margin-top:8px;"><strong>Grand Total: ${fmt(sum)}</strong></div>`;
    orderListEl.innerHTML = html;
  }

  function resetOrder(){
    orderLines.length = 0;
    qtyInput.value = 1;
    itemSelect.value = "0";
    recalc();
    renderOrder();
  }

  function showTab(tab){
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById('menu').classList.add('hidden');
    document.getElementById('order').classList.add('hidden');

    if (tab === 'menu') {
      document.getElementById('menu').classList.remove('hidden');
      document.querySelectorAll('.tab')[0].classList.add('active');
    } else {
      document.getElementById('order').classList.remove('hidden');
      document.querySelectorAll('.tab')[1].classList.add('active');
    }
  }

  itemSelect.addEventListener("change", recalc);
  qtyInput.addEventListener("input", recalc);

  // init
  renderMenu();
  fillDropdown();
  resetOrder();
</script>
</body>
</html>
